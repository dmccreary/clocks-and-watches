
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Designing and Building and Clock and Watches with MicroPython and AI.  This projects uses low-cost parts, MicroPython and AI to teach computational thinking.">
      
      
        <meta name="author" content="Dan McCreary">
      
      
        <link rel="canonical" href="https://dmccreary.github.io/clocks-and-watches/lessons/muntiple-fonts/50-font-to-py/">
      
      
      
      
      <link rel="icon" href="../../../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.45">
    
    
      
        <title>Font to MicroPython - Clocks and Watches with AI</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.0253249f.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../css/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-EKTEBLZ2KP"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-EKTEBLZ2KP",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-EKTEBLZ2KP",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
      
        <meta  property="og:type"  content="website" >
      
        <meta  property="og:title"  content="Font to MicroPython - Clocks and Watches with AI" >
      
        <meta  property="og:description"  content="Designing and Building and Clock and Watches with MicroPython and AI.  This projects uses low-cost parts, MicroPython and AI to teach computational thinking." >
      
        <meta  property="og:image"  content="https://dmccreary.github.io/clocks-and-watches/assets/images/social/lessons/muntiple-fonts/50-font-to-py.png" >
      
        <meta  property="og:image:type"  content="image/png" >
      
        <meta  property="og:image:width"  content="1200" >
      
        <meta  property="og:image:height"  content="630" >
      
        <meta  property="og:url"  content="https://dmccreary.github.io/clocks-and-watches/lessons/muntiple-fonts/50-font-to-py/" >
      
        <meta  name="twitter:card"  content="summary_large_image" >
      
        <meta  name="twitter:title"  content="Font to MicroPython - Clocks and Watches with AI" >
      
        <meta  name="twitter:description"  content="Designing and Building and Clock and Watches with MicroPython and AI.  This projects uses low-cost parts, MicroPython and AI to teach computational thinking." >
      
        <meta  name="twitter:image"  content="https://dmccreary.github.io/clocks-and-watches/assets/images/social/lessons/muntiple-fonts/50-font-to-py.png" >
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="#642580" data-md-color-accent="#41BAC1">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#font-to-micropython" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Clocks and Watches with AI" class="md-header__button md-logo" aria-label="Clocks and Watches with AI" data-md-component="logo">
      
  <img src="../../../img/logo-180x180.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Clocks and Watches with AI
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Font to MicroPython
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256l137.3-137.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/dmccreary/clocks-and-watches" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub Repo
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Clocks and Watches with AI" class="md-nav__button md-logo" aria-label="Clocks and Watches with AI" data-md-component="logo">
      
  <img src="../../../img/logo-180x180.png" alt="logo">

    </a>
    Clocks and Watches with AI
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/dmccreary/clocks-and-watches" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub Repo
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../course-description/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Course Description
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../setup/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Setup
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          
        
      
        
          
        
      
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Lessons
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../kits/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Kits
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../sims/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    MicroSims
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../prompts/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Prompts
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../glossary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Glossary
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQ
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../references/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    References
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../contact/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contact
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQ
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#font-conversion-and-implementation-guide" class="md-nav__link">
    <span class="md-ellipsis">
      Font Conversion and Implementation Guide
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Font Conversion and Implementation Guide">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-installation" class="md-nav__link">
    <span class="md-ellipsis">
      1. Installation:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-font-preparation" class="md-nav__link">
    <span class="md-ellipsis">
      2. Font Preparation:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-converting-truetype-fonts" class="md-nav__link">
    <span class="md-ellipsis">
      3. Converting TrueType Fonts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-file-transfer-to-pico" class="md-nav__link">
    <span class="md-ellipsis">
      4. File Transfer To Pico
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-implementation" class="md-nav__link">
    <span class="md-ellipsis">
      5. Implementation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-issues-and-solutions" class="md-nav__link">
    <span class="md-ellipsis">
      Common Issues and Solutions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Common Issues and Solutions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#memory-issues" class="md-nav__link">
    <span class="md-ellipsis">
      Memory Issues
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#download-github-code" class="md-nav__link">
    <span class="md-ellipsis">
      Download GitHub Code
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Download GitHub Code">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-first-clone-the-repository" class="md-nav__link">
    <span class="md-ellipsis">
      1. First, clone the repository:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-navigate-to-the-directory" class="md-nav__link">
    <span class="md-ellipsis">
      2. Navigate to the directory:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-pillow-library" class="md-nav__link">
    <span class="md-ellipsis">
      3. Pillow Library
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-move-conversion-tool" class="md-nav__link">
    <span class="md-ellipsis">
      4. Move Conversion Tool
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-run-converter" class="md-nav__link">
    <span class="md-ellipsis">
      5. Run Converter
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#limiting-font-sets" class="md-nav__link">
    <span class="md-ellipsis">
      Limiting Font Sets
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Limiting Font Sets">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-memory-requirements-per-character" class="md-nav__link">
    <span class="md-ellipsis">
      1. Memory Requirements per Character
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-oled-frame-buffer-size" class="md-nav__link">
    <span class="md-ellipsis">
      2. OLED Frame Buffer Size
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-total-memory-impact" class="md-nav__link">
    <span class="md-ellipsis">
      3. Total Memory Impact
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#helvetica-variable-width" class="md-nav__link">
    <span class="md-ellipsis">
      Helvetica Variable Width
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="font-to-micropython">Font to MicroPython</h1>
<div class="admonition prompt">
<p class="admonition-title">Prompt</p>
<p>Please give me suggestions on how I can display other fonts on the SSD1306 OLED using MicroPython.</p>
</div>
<p>Based on the provided code and the SSD1306 OLED display usage, I can suggest several approaches for displaying different fonts:</p>
<ol>
<li>Using Framebuf-Based Custom Fonts</li>
</ol>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">import</span> <span class="nn">framebuf</span>
<span class="c1"># Define a custom font as a bytearrayCUSTOM_FONT ={&#39;0&#39;:bytearray([0b01110000,0b10001000,0b10001000,0b10001000,0b01110000]),# Add more characters...}defdraw_custom_char(oled, char, x, y):if char in CUSTOM_FONT:        fb = framebuf.FrameBuffer(CUSTOM_FONT[char],8,8, framebuf.MONO_VLSB)        oled.blit(fb, x, y)`</span>
</code></pre></div></td></tr></table></div>
<ol>
<li>Using Third-Party Font Modules</li>
</ol>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code>python
Copy

`# writer.py module approachfrom writer import Writer
import font10  # Example font moduledefsetup_custom_font(oled):    font_writer = Writer(oled, font10)    font_writer.set_textpos(0,0)return font_writer`
</code></pre></div></td></tr></table></div>
<ol>
<li>Converting TrueType Fonts You can convert TrueType fonts to a bitmap format using tools like <code>font2py</code> and then use them in your project:</li>
</ol>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code>python
Copy

`# After converting a font using font2pyimport my_converted_font
from writer import Writer
definit_custom_font(oled):    font_writer = Writer(oled, my_converted_font)return font_writer`
</code></pre></div></td></tr></table></div>
<ol>
<li>Creating Bitmap Fonts</li>
</ol>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1"># Define a simple bitmap font</span>
<span class="n">DIGIT_FONT</span> <span class="o">=</span><span class="p">{</span><span class="s1">&#39;0&#39;</span><span class="p">:[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]],</span>
<span class="c1"># # Add more characters...</span>
<span class="p">}</span>
<span class="k">def</span> <span class="nf">draw_bitmap_char</span><span class="p">(</span><span class="n">oled</span><span class="p">,</span> <span class="n">char</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">DIGIT_FONT</span><span class="p">:</span>
        <span class="n">bitmap</span> <span class="o">=</span> <span class="n">DIGIT_FONT</span><span class="p">[</span><span class="n">char</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">y_pos</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">bitmap</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">x_pos</span><span class="p">,</span> <span class="n">pixel</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">row</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">pixel</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">scale</span> <span class="o">==</span><span class="mi">1</span><span class="p">:</span>
                        <span class="n">oled</span><span class="o">.</span><span class="n">pixel</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">x_pos</span><span class="p">,</span> <span class="n">y</span> <span class="o">+</span> <span class="n">y_pos</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">oled</span><span class="o">.</span><span class="n">fill_rect</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">x_pos</span><span class="o">*</span><span class="n">scale</span><span class="p">,</span> <span class="n">y</span> <span class="o">+</span> <span class="n">y_pos</span><span class="o">*</span><span class="n">scale</span><span class="p">,</span> <span class="n">scale</span><span class="p">,</span> <span class="n">scale</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<ol>
<li>Using the <code>micropython-font-to-py</code> Tool First, install the tool on your computer:</li>
</ol>
<p>You will need to go to the Peter Hinch GitHub site and clone the repo</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/peterhinch/micropython-font-to-py.git
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>pip<span class="w"> </span>install<span class="w"> </span>micropython-font-to-py
</code></pre></div></td></tr></table></div>
<p>Then convert a font:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>font_to_py.py<span class="w"> </span>YourFont.ttf<span class="w"> </span><span class="m">20</span><span class="w"> </span>font20.py
</code></pre></div></td></tr></table></div>
<p>And use it in your code:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">import</span> <span class="nn">font20</span>
<span class="kn">from</span> <span class="nn">writer</span> <span class="kn">import</span> <span class="n">Writer</span>
<span class="n">defsetup_font</span><span class="p">(</span><span class="n">oled</span><span class="p">):</span>    <span class="n">font_writer</span> <span class="o">=</span> <span class="n">Writer</span><span class="p">(</span><span class="n">oled</span><span class="p">,</span> <span class="n">font20</span><span class="p">)</span>    <span class="n">font_writer</span><span class="o">.</span><span class="n">set_textpos</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span><span class="k">return</span> <span class="n">font_writer</span>
<span class="c1"># Usage</span>
<span class="c1"># writer = setup_font(oled)</span>
<span class="c1"># writer.writeln(&#39;Hello World!&#39;)</span>
<span class="c1"># oled.show()`</span>
</code></pre></div></td></tr></table></div>
<p>Important considerations:</p>
<ol>
<li><strong>Memory constraints</strong> - The OLED display and MicroPython device have limited memory, so be mindful of font size</li>
<li><strong>Performance</strong> - Larger fonts or complex rendering can impact refresh rates</li>
<li><strong>Display resolution</strong> - The SSD1306 is 128x64 pixels, so ensure fonts are appropriately sized</li>
<li><strong>Character set</strong> - Consider limiting to necessary characters to save memory</li>
</ol>
<div class="admonition prompt">
<p class="admonition-title">Prompt</p>
<p>Please proved detailed steps to use the micropython-font-to-py program to convert both truetype and bitmap fonts to be used with MicroPython on the OLED display</p>
</div>
<p>Here are steps for converting and using fonts with micropython-font-to-py.</p>
<h2 id="font-conversion-and-implementation-guide">Font Conversion and Implementation Guide</h2>
<h3 id="1-installation">1.  <strong>Installation</strong>:</h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>pip<span class="w"> </span>install<span class="w"> </span>micropython-font-to-py
</code></pre></div></td></tr></table></div>
<h3 id="2-font-preparation">2.  <strong>Font Preparation</strong>:</h3>
<ul>
<li>For TrueType fonts: Get your .ttf file ready</li>
<li>For bitmap fonts: Create a Python module with your bitmap definitions</li>
<li>Ensure you have necessary font licenses for usage</li>
</ul>
<h3 id="3-converting-truetype-fonts">3.  <strong>Converting TrueType Fonts</strong></h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1"># Basic conversionfont_to_py.py YourFont.ttf 20 font20.py</span>
<span class="c1"># Fixed-width conversion</span>
font_to_py.py<span class="w"> </span>-x<span class="w"> </span>YourFont.ttf<span class="w"> </span><span class="m">20</span><span class="w"> </span>font20.py
<span class="c1"># Include extended ASCII</span>
font_to_py.py<span class="w"> </span>-x<span class="w"> </span>-s<span class="w"> </span>YourFont.ttf<span class="w"> </span><span class="m">20</span><span class="w"> </span>font20.py
<span class="c1"># Compressed output</span>
font_to_py.py<span class="w"> </span>-f<span class="w"> </span>YourFont.ttf<span class="w"> </span><span class="m">20</span><span class="w"> </span>font20.py<span class="sb">`</span>
</code></pre></div></td></tr></table></div>
<h3 id="4-file-transfer-to-pico">4. File Transfer To Pico</h3>
<ul>
<li>Transfer both the generated font file (e.g., <code>font20.py</code>) and the <code>writer.py</code> class to your MicroPython device</li>
<li>You can use tools like Thonny IDE or <code>ampy</code> for file transfer</li>
</ul>
<h3 id="5-implementation">5. Implementation</h3>
<ul>
<li>Use the code from the artifact above to implement the font rendering</li>
<li>Start with small fonts (12-20px) to ensure good performance</li>
<li>Test with your specific character set</li>
</ul>
<h2 id="common-issues-and-solutions">Common Issues and Solutions</h2>
<h3 id="memory-issues">Memory Issues</h3>
<p>The Raspberry Pi Pico is limited to using 264K of RAM.  Fonts
can easily use up this memory.</p>
<ul>
<li>
<p>If you get memory errors, try:</p>
<ul>
<li>Using smaller font sizes</li>
<li>Converting fewer characters</li>
<li>Using compressed output (-f option)</li>
<li>Using fixed-width fonts (-x option)</li>
</ul>
</li>
<li>
<p><strong>Performance Issues</strong>:</p>
</li>
<li>
<p>If rendering is slow:</p>
<ul>
<li>Use smaller fonts</li>
<li>Reduce update frequency</li>
<li>Consider buffering text changes</li>
<li>Use fixed-width fonts for faster rendering</li>
</ul>
</li>
<li>
<p><strong>Display Issues</strong>:</p>
</li>
<li>
<p>If text appears garbled:</p>
<ul>
<li>Check font orientation</li>
<li>Verify display initialization</li>
<li>Ensure proper I2C/SPI configuration</li>
<li>Verify font file transfer was successful</li>
</ul>
</li>
</ul>
<h2 id="download-github-code">Download GitHub Code</h2>
<h3 id="1-first-clone-the-repository">1. First, clone the repository:</h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/peterhinch/micropython-font-to-py.git<span class="sb">`</span>
</code></pre></div></td></tr></table></div>
<h3 id="2-navigate-to-the-directory">2. Navigate to the directory:</h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>micropython-font-to-py<span class="sb">`</span>
</code></pre></div></td></tr></table></div>
<h3 id="3-pillow-library">3. Pillow Library</h3>
<p>You'll also need the Python Imaging Library (PIL) installed:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>pip<span class="w"> </span>install<span class="w"> </span>pillow<span class="sb">`</span>
</code></pre></div></td></tr></table></div>
<h3 id="4-move-conversion-tool">4. Move Conversion Tool</h3>
<p>The <code>font_to_py.py</code> script is in this directory. You can either:</p>
<ul>
<li>Use it directly from this location</li>
<li>Copy it to a convenient location in your PATH</li>
<li>Make it executable with <code>chmod +x font_to_py.py</code></li>
</ul>
<h3 id="5-run-converter">5. Run Converter</h3>
<p>Now you can use the tool. For example:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>python3<span class="w"> </span>font_to_py.py<span class="w"> </span>YourFont.ttf<span class="w"> </span><span class="m">20</span><span class="w"> </span>font20.py<span class="sb">`</span>
</code></pre></div></td></tr></table></div>
<p>If you want to make the tool generally available on your system:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1"># Make executablechmod +x font_to_py.py</span>
<span class="c1"># Optional: Move to a directory in your PATH (e.g., /usr/local/bin)sudocp font_to_py.py /usr/local/bin/font_to_py`</span>
</code></pre></div></td></tr></table></div>
<p>These examples and explanations should help you understand how fonts work on the OLED display. The first artifact provides a thorough explanation of the concepts, while the second gives you practical code examples to try.</p>
<p>Some key points to remember:</p>
<ol>
<li>Always convert your font files before using them</li>
<li>Keep track of your screen position</li>
<li>Clear the screen before writing new text</li>
<li>Don't forget to call <code>oled.show()</code> to display changes</li>
<li>Be mindful of memory usage with large fonts</li>
</ol>
<h2 id="limiting-font-sets">Limiting Font Sets</h2>
<p>For most clocks, you will only need the digits 0-9, the colon and the "A", "M" and "P" letters</p>
<div class="admonition prompt">
<p class="admonition-title">Prompt</p>
<p>The Raspberry Pi Pico has 264K or RAM. Will this be a problem if I just use the digits 0-9, a colon and the "P" and "M" letters?</p>
</div>
<p>No, using just digits 0-9, a colon, and the letters "A" "M" and "P" (14 characters total) won't cause memory problems on the Raspberry Pi Pico's 264KB of RAM, even with relatively large font sizes. Let me explain why:</p>
<h3 id="1-memory-requirements-per-character">1. Memory Requirements per Character</h3>
<ul>
<li>Each character in a bitmap font is essentially a grid of pixels</li>
<li>For example, if you use a 32x32 pixel font size:<ul>
<li>Each character = 32x32 = 1024 bits = 128 bytes</li>
<li>14 characters × 128 bytes = 1,892 bytes total</li>
</ul>
</li>
<li>Even at 64x64 pixels (very large):<ul>
<li>Each character = 64x64 = 4096 bits = 512 bytes</li>
<li>14 characters × 512 bytes = 7,168 bytes</li>
</ul>
</li>
</ul>
<h3 id="2-oled-frame-buffer-size">2. OLED Frame Buffer Size</h3>
<p>The SSD1306 OLED (128x64) buffer takes:
- 128 × 64 = 8,192 bits = 1,024 bytes (1K RAM)</p>
<h3 id="3-total-memory-impact">3. Total Memory Impact</h3>
<ul>
<li>Font data: ~1.7KB - 6.7KB (depending on size)</li>
<li>OLED buffer: 1KB</li>
<li>Writer class and supporting code: ~1KB</li>
<li>Total: ~4KB - 9KB</li>
</ul>
<p>This means:</p>
<ul>
<li>You're using less than 4% of the Pico's RAM even with very large fonts</li>
<li>Plenty of memory remains for your program logic</li>
<li>You could even store multiple font sizes if desired</li>
</ul>
<h2 id="helvetica-variable-width">Helvetica Variable Width</h2>
<div class="admonition prompt">
<p class="admonition-title">Prompt</p>
<p>When I display the time "1:11" the screen looks odd. Please change the code to use a variable width helvetica font.</p>
</div>
<p>Yes, with a fixed-width font, the "1" digits can look awkwardly spaced. Let's modify the code to use variable-width Helvetica for better visual appearance.</p>
<p>The key improvements in this version:</p>
<ol>
<li><strong>Variable Width Handling</strong>:</li>
<li>Each digit takes only the space it needs</li>
<li>"1" is narrower than other digits</li>
<li>
<p>Spacing looks more natural</p>
</li>
<li>
<p><strong>Hour Format Changes</strong>:</p>
</li>
<li>Hours don't show leading zeros (e.g., "1:11" not "01:11")</li>
<li>Minutes still show leading zeros</li>
<li>
<p>Looks more like a traditional clock display</p>
</li>
<li>
<p><strong>Dynamic Positioning</strong>:</p>
</li>
<li>Calculates exact width of each character</li>
<li>Centers the entire time display properly</li>
<li>
<p>Adjusts spacing between elements automatically</p>
</li>
<li>
<p><strong>Improved Spacing</strong>:</p>
</li>
<li>Colon spacing adjusted for better visual balance</li>
<li>Small gaps added between elements</li>
<li>Everything remains centered regardless of digit widths</li>
</ol>
<p>Would you like me to:
1. Adjust any of the spacing parameters?
2. Add AM/PM display?
3. Test with specific time combinations?</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">  1</span>
<span class="normal">  2</span>
<span class="normal">  3</span>
<span class="normal">  4</span>
<span class="normal">  5</span>
<span class="normal">  6</span>
<span class="normal">  7</span>
<span class="normal">  8</span>
<span class="normal">  9</span>
<span class="normal"> 10</span>
<span class="normal"> 11</span>
<span class="normal"> 12</span>
<span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1"># Step 1: Convert Helvetica font WITHOUT fixed width</span>
<span class="c1"># python3 font_to_py.py Helvetica.ttf 40 helvetica_40.py</span>
<span class="c1"># Note: Removed the -x flag to allow variable width characters</span>

<span class="kn">from</span> <span class="nn">machine</span> <span class="kn">import</span> <span class="n">Pin</span><span class="p">,</span> <span class="n">SPI</span>
<span class="kn">import</span> <span class="nn">ssd1306</span>
<span class="kn">from</span> <span class="nn">writer</span> <span class="kn">import</span> <span class="n">Writer</span>
<span class="kn">import</span> <span class="nn">helvetica_40</span>  <span class="c1"># Your converted font</span>

<span class="k">class</span> <span class="nc">LargeTimeDisplay</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Initialize SPI and display</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">spi</span> <span class="o">=</span> <span class="n">SPI</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> 
                      <span class="n">sck</span><span class="o">=</span><span class="n">Pin</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span>   <span class="c1"># Clock</span>
                      <span class="n">mosi</span><span class="o">=</span><span class="n">Pin</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span>  <span class="c1"># Data</span>
                      <span class="n">baudrate</span><span class="o">=</span><span class="mi">100000</span><span class="p">)</span>

        <span class="c1"># Display pins</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dc</span> <span class="o">=</span> <span class="n">Pin</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>    <span class="c1"># Data/Command</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rst</span> <span class="o">=</span> <span class="n">Pin</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>   <span class="c1"># Reset</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cs</span> <span class="o">=</span> <span class="n">Pin</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>    <span class="c1"># Chip Select</span>

        <span class="c1"># Initialize display</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">display</span> <span class="o">=</span> <span class="n">ssd1306</span><span class="o">.</span><span class="n">SSD1306_SPI</span><span class="p">(</span>
            <span class="mi">128</span><span class="p">,</span>    <span class="c1"># Width</span>
            <span class="mi">64</span><span class="p">,</span>     <span class="c1"># Height</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">spi</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dc</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rst</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cs</span>
        <span class="p">)</span>

        <span class="c1"># Initialize writer with large font</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writer</span> <span class="o">=</span> <span class="n">Writer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">display</span><span class="p">,</span> <span class="n">helvetica_40</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_char_width</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">char</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get width of a specific character&quot;&quot;&quot;</span>
        <span class="n">_</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="n">helvetica_40</span><span class="o">.</span><span class="n">get_ch</span><span class="p">(</span><span class="n">char</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">width</span>

    <span class="k">def</span> <span class="nf">get_string_width</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Calculate total width of a string&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_char_width</span><span class="p">(</span><span class="n">char</span><span class="p">)</span> <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">text</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">draw_colon</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Draw a large colon for separating hours and minutes&quot;&quot;&quot;</span>
        <span class="n">colon_width</span> <span class="o">=</span> <span class="mi">6</span>
        <span class="n">colon_height</span> <span class="o">=</span> <span class="mi">6</span>
        <span class="n">spacing</span> <span class="o">=</span> <span class="mi">10</span>

        <span class="c1"># Top dot</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">fill_rect</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">10</span><span class="p">,</span> <span class="n">colon_width</span><span class="p">,</span> <span class="n">colon_height</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="c1"># Bottom dot</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">fill_rect</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">10</span> <span class="o">+</span> <span class="n">spacing</span> <span class="o">+</span> <span class="n">colon_height</span><span class="p">,</span> 
                             <span class="n">colon_width</span><span class="p">,</span> <span class="n">colon_height</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">colon_width</span>  <span class="c1"># Return width for position calculations</span>

    <span class="k">def</span> <span class="nf">show_time</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hours</span><span class="p">,</span> <span class="n">minutes</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Display time with variable width font&quot;&quot;&quot;</span>
        <span class="c1"># Clear display</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

        <span class="c1"># Format numbers with leading zeros for minutes only</span>
        <span class="n">hour_str</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">hours</span><span class="p">)</span>  <span class="c1"># No leading zero for hours</span>
        <span class="n">min_str</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">minutes</span><span class="si">:</span><span class="s2">02d</span><span class="si">}</span><span class="s2">&quot;</span>  <span class="c1"># Leading zero for minutes</span>

        <span class="c1"># Calculate widths</span>
        <span class="n">hour_width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_string_width</span><span class="p">(</span><span class="n">hour_str</span><span class="p">)</span>
        <span class="n">min_width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_string_width</span><span class="p">(</span><span class="n">min_str</span><span class="p">)</span>
        <span class="n">colon_total_width</span> <span class="o">=</span> <span class="mi">16</span>  <span class="c1"># Colon width plus spacing</span>

        <span class="c1"># Calculate total width</span>
        <span class="n">total_width</span> <span class="o">=</span> <span class="n">hour_width</span> <span class="o">+</span> <span class="n">colon_total_width</span> <span class="o">+</span> <span class="n">min_width</span>

        <span class="c1"># Calculate starting position to center everything</span>
        <span class="n">start_x</span> <span class="o">=</span> <span class="p">(</span><span class="mi">128</span> <span class="o">-</span> <span class="n">total_width</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="n">start_y</span> <span class="o">=</span> <span class="p">(</span><span class="mi">64</span> <span class="o">-</span> <span class="n">helvetica_40</span><span class="o">.</span><span class="n">height</span><span class="p">())</span> <span class="o">//</span> <span class="mi">2</span>

        <span class="c1"># Current x position</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">start_x</span>

        <span class="c1"># Draw hours</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writer</span><span class="o">.</span><span class="n">set_textpos</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">start_y</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writer</span><span class="o">.</span><span class="n">printstring</span><span class="p">(</span><span class="n">hour_str</span><span class="p">)</span>
        <span class="n">x</span> <span class="o">+=</span> <span class="n">hour_width</span> <span class="o">+</span> <span class="mi">5</span>  <span class="c1"># Move past hours plus small gap</span>

        <span class="c1"># Draw colon</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">draw_colon</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">start_y</span><span class="p">)</span>
        <span class="n">x</span> <span class="o">+=</span> <span class="n">colon_total_width</span> <span class="o">-</span> <span class="mi">5</span>  <span class="c1"># Move past colon (adjusted for spacing)</span>

        <span class="c1"># Draw minutes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writer</span><span class="o">.</span><span class="n">set_textpos</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">start_y</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">writer</span><span class="o">.</span><span class="n">printstring</span><span class="p">(</span><span class="n">min_str</span><span class="p">)</span>

        <span class="c1"># Update display</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># Example usage</span>
<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="c1"># Create display instance</span>
    <span class="n">time_display</span> <span class="o">=</span> <span class="n">LargeTimeDisplay</span><span class="p">()</span>

    <span class="c1"># Test display with different times</span>
    <span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">sleep</span>

    <span class="n">test_times</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">),</span>   <span class="c1"># Testing narrow digits</span>
        <span class="p">(</span><span class="mi">11</span><span class="p">,</span> <span class="mi">11</span><span class="p">),</span>  <span class="c1"># Testing wide number combination</span>
        <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">01</span><span class="p">),</span>  <span class="c1"># Testing leading zero</span>
        <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">22</span><span class="p">),</span>   <span class="c1"># Testing repeated digits</span>
    <span class="p">]</span>

    <span class="c1"># Show each test time for 2 seconds</span>
    <span class="k">for</span> <span class="n">hours</span><span class="p">,</span> <span class="n">minutes</span> <span class="ow">in</span> <span class="n">test_times</span><span class="p">:</span>
        <span class="n">time_display</span><span class="o">.</span><span class="n">show_time</span><span class="p">(</span><span class="n">hours</span><span class="p">,</span> <span class="n">minutes</span><span class="p">)</span>
        <span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Key Changes from Fixed-Width Version:</span>
<span class="sd">1. Removed -x flag from font conversion</span>
<span class="sd">2. Added methods to calculate individual character widths</span>
<span class="sd">3. Dynamically calculate positions based on actual character widths</span>
<span class="sd">4. Adjusted spacing to look better with variable width characters</span>
<span class="sd">5. Removed leading zero from hours for better appearance</span>
<span class="sd">6. Added flexible spacing calculations</span>

<span class="sd">Notes on Spacing:</span>
<span class="sd">- Hours: No leading zero, natural width</span>
<span class="sd">- Minutes: Always show leading zero</span>
<span class="sd">- Colon: Centered between hours and minutes</span>
<span class="sd">- Overall: Centered on display</span>
<span class="sd">&quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>







  
  



  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.copy", "navigation.expand", "navigation.path", "navigation.prune", "navigation.indexes", "toc.follow", "navigation.top", "navigation.footer"], "search": "../../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.83f73b43.min.js"></script>
      
        <script src="../../../js/extra.js"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>