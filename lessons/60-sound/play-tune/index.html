
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Designing and Building and Clock and Watches with MicroPython and AI.  This projects uses low-cost parts, MicroPython and AI to teach computational thinking.">
      
      
        <meta name="author" content="Dan McCreary">
      
      
        <link rel="canonical" href="https://dmccreary.github.io/clocks-and-watches/lessons/60-sound/play-tune/">
      
      
      
      
      <link rel="icon" href="../../../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.45">
    
    
      
        <title>Play a Tune Using PWM - Clocks and Watches with AI</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.0253249f.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../css/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-EKTEBLZ2KP"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-EKTEBLZ2KP",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-EKTEBLZ2KP",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
      
        <meta  property="og:type"  content="website" >
      
        <meta  property="og:title"  content="Play a Tune Using PWM - Clocks and Watches with AI" >
      
        <meta  property="og:description"  content="Designing and Building and Clock and Watches with MicroPython and AI.  This projects uses low-cost parts, MicroPython and AI to teach computational thinking." >
      
        <meta  property="og:image"  content="https://dmccreary.github.io/clocks-and-watches/assets/images/social/lessons/60-sound/play-tune.png" >
      
        <meta  property="og:image:type"  content="image/png" >
      
        <meta  property="og:image:width"  content="1200" >
      
        <meta  property="og:image:height"  content="630" >
      
        <meta  property="og:url"  content="https://dmccreary.github.io/clocks-and-watches/lessons/60-sound/play-tune/" >
      
        <meta  name="twitter:card"  content="summary_large_image" >
      
        <meta  name="twitter:title"  content="Play a Tune Using PWM - Clocks and Watches with AI" >
      
        <meta  name="twitter:description"  content="Designing and Building and Clock and Watches with MicroPython and AI.  This projects uses low-cost parts, MicroPython and AI to teach computational thinking." >
      
        <meta  name="twitter:image"  content="https://dmccreary.github.io/clocks-and-watches/assets/images/social/lessons/60-sound/play-tune.png" >
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="#642580" data-md-color-accent="#41BAC1">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#play-a-tune-using-pwm" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Clocks and Watches with AI" class="md-header__button md-logo" aria-label="Clocks and Watches with AI" data-md-component="logo">
      
  <img src="../../../img/logo-180x180.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Clocks and Watches with AI
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Play a Tune Using PWM
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256l137.3-137.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/dmccreary/clocks-and-watches" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub Repo
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Clocks and Watches with AI" class="md-nav__button md-logo" aria-label="Clocks and Watches with AI" data-md-component="logo">
      
  <img src="../../../img/logo-180x180.png" alt="logo">

    </a>
    Clocks and Watches with AI
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/dmccreary/clocks-and-watches" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub Repo
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../course-description/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Course Description
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../setup/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Setup
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          
        
      
        
      
        
          
        
      
        
          
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Lessons
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
      
        
      
        
      
        
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../kits/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Kits
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../sims/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    MicroSims
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../prompts/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Prompts
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../glossary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Glossary
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQ
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../references/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    References
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../contact/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contact
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQ
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#adjust-the-tempo" class="md-nav__link">
    <span class="md-ellipsis">
      Adjust the Tempo
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding-interrupt-handling" class="md-nav__link">
    <span class="md-ellipsis">
      Adding Interrupt Handling
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="play-a-tune-using-pwm">Play a Tune Using PWM</h1>
<p>Below is an example MicroPython program that uses the provided note frequencies and plays the Mario melody on a PWM pin (GPIO 16 in this example). You can adjust timing and duty cycle to get the sound you want. Simply copy this code onto your MicroPython device (e.g., Raspberry Pi Pico running MicroPython) and run it.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span> <span class="nn">machine</span> <span class="kn">import</span> <span class="n">Pin</span><span class="p">,</span> <span class="n">PWM</span>
<span class="kn">from</span> <span class="nn">utime</span> <span class="kn">import</span> <span class="n">sleep</span>

<span class="c1"># Initialize speaker on GPIO16</span>
<span class="n">speaker</span> <span class="o">=</span> <span class="n">PWM</span><span class="p">(</span><span class="n">Pin</span><span class="p">(</span><span class="mi">16</span><span class="p">))</span>

<span class="c1"># Define the tone (note) frequency dictionary</span>
<span class="n">tones</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;B0&quot;</span><span class="p">:</span> <span class="mi">31</span><span class="p">,</span><span class="s2">&quot;C1&quot;</span><span class="p">:</span> <span class="mi">33</span><span class="p">,</span><span class="s2">&quot;CS1&quot;</span><span class="p">:</span> <span class="mi">35</span><span class="p">,</span><span class="s2">&quot;D1&quot;</span><span class="p">:</span> <span class="mi">37</span><span class="p">,</span><span class="s2">&quot;DS1&quot;</span><span class="p">:</span> <span class="mi">39</span><span class="p">,</span><span class="s2">&quot;E1&quot;</span><span class="p">:</span> <span class="mi">41</span><span class="p">,</span><span class="s2">&quot;F1&quot;</span><span class="p">:</span> <span class="mi">44</span><span class="p">,</span><span class="s2">&quot;FS1&quot;</span><span class="p">:</span> <span class="mi">46</span><span class="p">,</span>
    <span class="s2">&quot;G1&quot;</span><span class="p">:</span> <span class="mi">49</span><span class="p">,</span><span class="s2">&quot;GS1&quot;</span><span class="p">:</span> <span class="mi">52</span><span class="p">,</span><span class="s2">&quot;A1&quot;</span><span class="p">:</span> <span class="mi">55</span><span class="p">,</span><span class="s2">&quot;AS1&quot;</span><span class="p">:</span> <span class="mi">58</span><span class="p">,</span><span class="s2">&quot;B1&quot;</span><span class="p">:</span> <span class="mi">62</span><span class="p">,</span><span class="s2">&quot;C2&quot;</span><span class="p">:</span> <span class="mi">65</span><span class="p">,</span>
    <span class="s2">&quot;CS2&quot;</span><span class="p">:</span> <span class="mi">69</span><span class="p">,</span><span class="s2">&quot;D2&quot;</span><span class="p">:</span> <span class="mi">73</span><span class="p">,</span><span class="s2">&quot;DS2&quot;</span><span class="p">:</span> <span class="mi">78</span><span class="p">,</span><span class="s2">&quot;E2&quot;</span><span class="p">:</span> <span class="mi">82</span><span class="p">,</span><span class="s2">&quot;F2&quot;</span><span class="p">:</span> <span class="mi">87</span><span class="p">,</span><span class="s2">&quot;FS2&quot;</span><span class="p">:</span> <span class="mi">93</span><span class="p">,</span><span class="s2">&quot;G2&quot;</span><span class="p">:</span> <span class="mi">98</span><span class="p">,</span>
    <span class="s2">&quot;GS2&quot;</span><span class="p">:</span> <span class="mi">104</span><span class="p">,</span><span class="s2">&quot;A2&quot;</span><span class="p">:</span> <span class="mi">110</span><span class="p">,</span><span class="s2">&quot;AS2&quot;</span><span class="p">:</span> <span class="mi">117</span><span class="p">,</span><span class="s2">&quot;B2&quot;</span><span class="p">:</span> <span class="mi">123</span><span class="p">,</span><span class="s2">&quot;C3&quot;</span><span class="p">:</span> <span class="mi">131</span><span class="p">,</span><span class="s2">&quot;CS3&quot;</span><span class="p">:</span> <span class="mi">139</span><span class="p">,</span>
    <span class="s2">&quot;D3&quot;</span><span class="p">:</span> <span class="mi">147</span><span class="p">,</span><span class="s2">&quot;DS3&quot;</span><span class="p">:</span> <span class="mi">156</span><span class="p">,</span><span class="s2">&quot;E3&quot;</span><span class="p">:</span> <span class="mi">165</span><span class="p">,</span><span class="s2">&quot;F3&quot;</span><span class="p">:</span> <span class="mi">175</span><span class="p">,</span><span class="s2">&quot;FS3&quot;</span><span class="p">:</span> <span class="mi">185</span><span class="p">,</span>
    <span class="s2">&quot;G3&quot;</span><span class="p">:</span> <span class="mi">196</span><span class="p">,</span><span class="s2">&quot;GS3&quot;</span><span class="p">:</span> <span class="mi">208</span><span class="p">,</span><span class="s2">&quot;A3&quot;</span><span class="p">:</span> <span class="mi">220</span><span class="p">,</span><span class="s2">&quot;AS3&quot;</span><span class="p">:</span> <span class="mi">233</span><span class="p">,</span><span class="s2">&quot;B3&quot;</span><span class="p">:</span> <span class="mi">247</span><span class="p">,</span><span class="s2">&quot;C4&quot;</span><span class="p">:</span> <span class="mi">262</span><span class="p">,</span><span class="s2">&quot;CS4&quot;</span><span class="p">:</span> <span class="mi">277</span><span class="p">,</span><span class="s2">&quot;D4&quot;</span><span class="p">:</span> <span class="mi">294</span><span class="p">,</span><span class="s2">&quot;DS4&quot;</span><span class="p">:</span> <span class="mi">311</span><span class="p">,</span>
    <span class="s2">&quot;E4&quot;</span><span class="p">:</span> <span class="mi">330</span><span class="p">,</span><span class="s2">&quot;F4&quot;</span><span class="p">:</span> <span class="mi">349</span><span class="p">,</span><span class="s2">&quot;FS4&quot;</span><span class="p">:</span> <span class="mi">370</span><span class="p">,</span><span class="s2">&quot;G4&quot;</span><span class="p">:</span> <span class="mi">392</span><span class="p">,</span><span class="s2">&quot;GS4&quot;</span><span class="p">:</span> <span class="mi">415</span><span class="p">,</span><span class="s2">&quot;A4&quot;</span><span class="p">:</span> <span class="mi">440</span><span class="p">,</span><span class="s2">&quot;AS4&quot;</span><span class="p">:</span> <span class="mi">466</span><span class="p">,</span><span class="s2">&quot;B4&quot;</span><span class="p">:</span> <span class="mi">494</span><span class="p">,</span><span class="s2">&quot;C5&quot;</span><span class="p">:</span> <span class="mi">523</span><span class="p">,</span><span class="s2">&quot;CS5&quot;</span><span class="p">:</span> <span class="mi">554</span><span class="p">,</span><span class="s2">&quot;D5&quot;</span><span class="p">:</span> <span class="mi">587</span><span class="p">,</span><span class="s2">&quot;DS5&quot;</span><span class="p">:</span> <span class="mi">622</span><span class="p">,</span><span class="s2">&quot;E5&quot;</span><span class="p">:</span> <span class="mi">659</span><span class="p">,</span><span class="s2">&quot;F5&quot;</span><span class="p">:</span> <span class="mi">698</span><span class="p">,</span>
    <span class="s2">&quot;FS5&quot;</span><span class="p">:</span> <span class="mi">740</span><span class="p">,</span><span class="s2">&quot;G5&quot;</span><span class="p">:</span> <span class="mi">784</span><span class="p">,</span><span class="s2">&quot;GS5&quot;</span><span class="p">:</span> <span class="mi">831</span><span class="p">,</span><span class="s2">&quot;A5&quot;</span><span class="p">:</span> <span class="mi">880</span><span class="p">,</span><span class="s2">&quot;AS5&quot;</span><span class="p">:</span> <span class="mi">932</span><span class="p">,</span><span class="s2">&quot;B5&quot;</span><span class="p">:</span> <span class="mi">988</span><span class="p">,</span><span class="s2">&quot;C6&quot;</span><span class="p">:</span> <span class="mi">1047</span><span class="p">,</span><span class="s2">&quot;CS6&quot;</span><span class="p">:</span> <span class="mi">1109</span><span class="p">,</span><span class="s2">&quot;D6&quot;</span><span class="p">:</span> <span class="mi">1175</span><span class="p">,</span><span class="s2">&quot;DS6&quot;</span><span class="p">:</span> <span class="mi">1245</span><span class="p">,</span><span class="s2">&quot;E6&quot;</span><span class="p">:</span> <span class="mi">1319</span><span class="p">,</span><span class="s2">&quot;F6&quot;</span><span class="p">:</span> <span class="mi">1397</span><span class="p">,</span><span class="s2">&quot;FS6&quot;</span><span class="p">:</span> <span class="mi">1480</span><span class="p">,</span><span class="s2">&quot;G6&quot;</span><span class="p">:</span> <span class="mi">1568</span><span class="p">,</span><span class="s2">&quot;GS6&quot;</span><span class="p">:</span> <span class="mi">1661</span><span class="p">,</span>
    <span class="s2">&quot;A6&quot;</span><span class="p">:</span> <span class="mi">1760</span><span class="p">,</span><span class="s2">&quot;AS6&quot;</span><span class="p">:</span> <span class="mi">1865</span><span class="p">,</span><span class="s2">&quot;B6&quot;</span><span class="p">:</span> <span class="mi">1976</span><span class="p">,</span><span class="s2">&quot;C7&quot;</span><span class="p">:</span> <span class="mi">2093</span><span class="p">,</span><span class="s2">&quot;CS7&quot;</span><span class="p">:</span> <span class="mi">2217</span><span class="p">,</span><span class="s2">&quot;D7&quot;</span><span class="p">:</span> <span class="mi">2349</span><span class="p">,</span><span class="s2">&quot;DS7&quot;</span><span class="p">:</span> <span class="mi">2489</span><span class="p">,</span><span class="s2">&quot;E7&quot;</span><span class="p">:</span> <span class="mi">2637</span><span class="p">,</span><span class="s2">&quot;F7&quot;</span><span class="p">:</span> <span class="mi">2794</span><span class="p">,</span><span class="s2">&quot;FS7&quot;</span><span class="p">:</span> <span class="mi">2960</span><span class="p">,</span><span class="s2">&quot;G7&quot;</span><span class="p">:</span> <span class="mi">3136</span><span class="p">,</span><span class="s2">&quot;GS7&quot;</span><span class="p">:</span> <span class="mi">3322</span><span class="p">,</span><span class="s2">&quot;A7&quot;</span><span class="p">:</span> <span class="mi">3520</span><span class="p">,</span>
    <span class="s2">&quot;AS7&quot;</span><span class="p">:</span> <span class="mi">3729</span><span class="p">,</span><span class="s2">&quot;B7&quot;</span><span class="p">:</span> <span class="mi">3951</span><span class="p">,</span><span class="s2">&quot;C8&quot;</span><span class="p">:</span> <span class="mi">4186</span><span class="p">,</span><span class="s2">&quot;CS8&quot;</span><span class="p">:</span> <span class="mi">4435</span><span class="p">,</span><span class="s2">&quot;D8&quot;</span><span class="p">:</span> <span class="mi">4699</span><span class="p">,</span><span class="s2">&quot;DS8&quot;</span><span class="p">:</span> <span class="mi">4978</span>
<span class="p">}</span>

<span class="c1"># Mario melody notes</span>
<span class="n">mario</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;E7&quot;</span><span class="p">,</span> <span class="s2">&quot;E7&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;E7&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;C7&quot;</span><span class="p">,</span> <span class="s2">&quot;E7&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;G7&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;G6&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;C7&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;G6&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;E6&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;A6&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;B6&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;AS6&quot;</span><span class="p">,</span> <span class="s2">&quot;A6&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;G6&quot;</span><span class="p">,</span> <span class="s2">&quot;E7&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;G7&quot;</span><span class="p">,</span> <span class="s2">&quot;A7&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;F7&quot;</span><span class="p">,</span> <span class="s2">&quot;G7&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;E7&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;C7&quot;</span><span class="p">,</span> <span class="s2">&quot;D7&quot;</span><span class="p">,</span> <span class="s2">&quot;B6&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;C7&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;G6&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;E6&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;A6&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;B6&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;AS6&quot;</span><span class="p">,</span> <span class="s2">&quot;A6&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;G6&quot;</span><span class="p">,</span> <span class="s2">&quot;E7&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;G7&quot;</span><span class="p">,</span> <span class="s2">&quot;A7&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;F7&quot;</span><span class="p">,</span> <span class="s2">&quot;G7&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;E7&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;C7&quot;</span><span class="p">,</span> <span class="s2">&quot;D7&quot;</span><span class="p">,</span> <span class="s2">&quot;B6&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>
<span class="p">]</span>

<span class="k">def</span> <span class="nf">play_tone</span><span class="p">(</span><span class="n">note</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mf">0.15</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Plays a single tone for the specified duration.</span>
<span class="sd">    If note is 0, it is treated as a rest (no sound).</span>
<span class="sd">    Adjust durations as needed for the best result.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">note</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="c1"># Rest (no sound)</span>
        <span class="n">speaker</span><span class="o">.</span><span class="n">duty_u16</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">sleep</span><span class="p">(</span><span class="n">duration</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># Play the specified note</span>
        <span class="n">freq</span> <span class="o">=</span> <span class="n">tones</span><span class="p">[</span><span class="n">note</span><span class="p">]</span>
        <span class="n">speaker</span><span class="o">.</span><span class="n">freq</span><span class="p">(</span><span class="n">freq</span><span class="p">)</span>
        <span class="c1"># Set a duty cycle (volume), 0 to 65535</span>
        <span class="n">speaker</span><span class="o">.</span><span class="n">duty_u16</span><span class="p">(</span><span class="mi">30000</span><span class="p">)</span>
        <span class="n">sleep</span><span class="p">(</span><span class="n">duration</span><span class="p">)</span>
        <span class="c1"># Turn the sound off between notes</span>
        <span class="n">speaker</span><span class="o">.</span><span class="n">duty_u16</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">sleep</span><span class="p">(</span><span class="mf">0.05</span><span class="p">)</span>

<span class="c1"># Play the entire Mario melody</span>
<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">mario</span><span class="p">:</span>
    <span class="n">play_tone</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>

<span class="c1"># Turn speaker off at the end</span>
<span class="c1"># Note that the note still plays on stop/interrupt!</span>
<span class="n">speaker</span><span class="o">.</span><span class="n">duty_u16</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<h2 id="adjust-the-tempo">Adjust the Tempo</h2>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>duration=0.15
</code></pre></div></td></tr></table></div>
<h2 id="adding-interrupt-handling">Adding Interrupt Handling</h2>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c1"># Main execution</span>
<span class="k">try</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Playing Mario theme...&quot;</span><span class="p">)</span>
    <span class="n">play_mario</span><span class="p">()</span>
    <span class="c1"># Clean up</span>
    <span class="n">speaker</span><span class="o">.</span><span class="n">deinit</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Done!&quot;</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
    <span class="c1"># Clean up if interrupted</span>
    <span class="n">speaker</span><span class="o">.</span><span class="n">deinit</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Stopped by user&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="kn">from</span> <span class="nn">machine</span> <span class="kn">import</span> <span class="n">Pin</span><span class="p">,</span> <span class="n">PWM</span>
<span class="kn">from</span> <span class="nn">utime</span> <span class="kn">import</span> <span class="n">sleep_ms</span>

<span class="c1"># Initialize speaker on GPIO 16</span>
<span class="n">speaker</span> <span class="o">=</span> <span class="n">PWM</span><span class="p">(</span><span class="n">Pin</span><span class="p">(</span><span class="mi">16</span><span class="p">))</span>

<span class="c1"># Note frequencies in Hz</span>
<span class="n">tones</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;B0&quot;</span><span class="p">:</span> <span class="mi">31</span><span class="p">,</span> <span class="s2">&quot;C1&quot;</span><span class="p">:</span> <span class="mi">33</span><span class="p">,</span> <span class="s2">&quot;CS1&quot;</span><span class="p">:</span> <span class="mi">35</span><span class="p">,</span> <span class="s2">&quot;D1&quot;</span><span class="p">:</span> <span class="mi">37</span><span class="p">,</span> <span class="s2">&quot;DS1&quot;</span><span class="p">:</span> <span class="mi">39</span><span class="p">,</span> <span class="s2">&quot;E1&quot;</span><span class="p">:</span> <span class="mi">41</span><span class="p">,</span> <span class="s2">&quot;F1&quot;</span><span class="p">:</span> <span class="mi">44</span><span class="p">,</span> <span class="s2">&quot;FS1&quot;</span><span class="p">:</span> <span class="mi">46</span><span class="p">,</span>
    <span class="s2">&quot;G1&quot;</span><span class="p">:</span> <span class="mi">49</span><span class="p">,</span> <span class="s2">&quot;GS1&quot;</span><span class="p">:</span> <span class="mi">52</span><span class="p">,</span> <span class="s2">&quot;A1&quot;</span><span class="p">:</span> <span class="mi">55</span><span class="p">,</span> <span class="s2">&quot;AS1&quot;</span><span class="p">:</span> <span class="mi">58</span><span class="p">,</span> <span class="s2">&quot;B1&quot;</span><span class="p">:</span> <span class="mi">62</span><span class="p">,</span> <span class="s2">&quot;C2&quot;</span><span class="p">:</span> <span class="mi">65</span><span class="p">,</span>
    <span class="s2">&quot;CS2&quot;</span><span class="p">:</span> <span class="mi">69</span><span class="p">,</span> <span class="s2">&quot;D2&quot;</span><span class="p">:</span> <span class="mi">73</span><span class="p">,</span> <span class="s2">&quot;DS2&quot;</span><span class="p">:</span> <span class="mi">78</span><span class="p">,</span> <span class="s2">&quot;E2&quot;</span><span class="p">:</span> <span class="mi">82</span><span class="p">,</span> <span class="s2">&quot;F2&quot;</span><span class="p">:</span> <span class="mi">87</span><span class="p">,</span> <span class="s2">&quot;FS2&quot;</span><span class="p">:</span> <span class="mi">93</span><span class="p">,</span> <span class="s2">&quot;G2&quot;</span><span class="p">:</span> <span class="mi">98</span><span class="p">,</span>
    <span class="s2">&quot;GS2&quot;</span><span class="p">:</span> <span class="mi">104</span><span class="p">,</span> <span class="s2">&quot;A2&quot;</span><span class="p">:</span> <span class="mi">110</span><span class="p">,</span> <span class="s2">&quot;AS2&quot;</span><span class="p">:</span> <span class="mi">117</span><span class="p">,</span> <span class="s2">&quot;B2&quot;</span><span class="p">:</span> <span class="mi">123</span><span class="p">,</span> <span class="s2">&quot;C3&quot;</span><span class="p">:</span> <span class="mi">131</span><span class="p">,</span> <span class="s2">&quot;CS3&quot;</span><span class="p">:</span> <span class="mi">139</span><span class="p">,</span>
    <span class="s2">&quot;D3&quot;</span><span class="p">:</span> <span class="mi">147</span><span class="p">,</span> <span class="s2">&quot;DS3&quot;</span><span class="p">:</span> <span class="mi">156</span><span class="p">,</span> <span class="s2">&quot;E3&quot;</span><span class="p">:</span> <span class="mi">165</span><span class="p">,</span> <span class="s2">&quot;F3&quot;</span><span class="p">:</span> <span class="mi">175</span><span class="p">,</span> <span class="s2">&quot;FS3&quot;</span><span class="p">:</span> <span class="mi">185</span><span class="p">,</span>
    <span class="s2">&quot;G3&quot;</span><span class="p">:</span> <span class="mi">196</span><span class="p">,</span> <span class="s2">&quot;GS3&quot;</span><span class="p">:</span> <span class="mi">208</span><span class="p">,</span> <span class="s2">&quot;A3&quot;</span><span class="p">:</span> <span class="mi">220</span><span class="p">,</span> <span class="s2">&quot;AS3&quot;</span><span class="p">:</span> <span class="mi">233</span><span class="p">,</span> <span class="s2">&quot;B3&quot;</span><span class="p">:</span> <span class="mi">247</span><span class="p">,</span> <span class="s2">&quot;C4&quot;</span><span class="p">:</span> <span class="mi">262</span><span class="p">,</span> <span class="s2">&quot;CS4&quot;</span><span class="p">:</span> <span class="mi">277</span><span class="p">,</span> <span class="s2">&quot;D4&quot;</span><span class="p">:</span> <span class="mi">294</span><span class="p">,</span> <span class="s2">&quot;DS4&quot;</span><span class="p">:</span> <span class="mi">311</span><span class="p">,</span>
    <span class="s2">&quot;E4&quot;</span><span class="p">:</span> <span class="mi">330</span><span class="p">,</span> <span class="s2">&quot;F4&quot;</span><span class="p">:</span> <span class="mi">349</span><span class="p">,</span> <span class="s2">&quot;FS4&quot;</span><span class="p">:</span> <span class="mi">370</span><span class="p">,</span> <span class="s2">&quot;G4&quot;</span><span class="p">:</span> <span class="mi">392</span><span class="p">,</span> <span class="s2">&quot;GS4&quot;</span><span class="p">:</span> <span class="mi">415</span><span class="p">,</span> <span class="s2">&quot;A4&quot;</span><span class="p">:</span> <span class="mi">440</span><span class="p">,</span> <span class="s2">&quot;AS4&quot;</span><span class="p">:</span> <span class="mi">466</span><span class="p">,</span> <span class="s2">&quot;B4&quot;</span><span class="p">:</span> <span class="mi">494</span><span class="p">,</span> <span class="s2">&quot;C5&quot;</span><span class="p">:</span> <span class="mi">523</span><span class="p">,</span> <span class="s2">&quot;CS5&quot;</span><span class="p">:</span> <span class="mi">554</span><span class="p">,</span> <span class="s2">&quot;D5&quot;</span><span class="p">:</span> <span class="mi">587</span><span class="p">,</span> <span class="s2">&quot;DS5&quot;</span><span class="p">:</span> <span class="mi">622</span><span class="p">,</span> <span class="s2">&quot;E5&quot;</span><span class="p">:</span> <span class="mi">659</span><span class="p">,</span> <span class="s2">&quot;F5&quot;</span><span class="p">:</span> <span class="mi">698</span><span class="p">,</span>
    <span class="s2">&quot;FS5&quot;</span><span class="p">:</span> <span class="mi">740</span><span class="p">,</span> <span class="s2">&quot;G5&quot;</span><span class="p">:</span> <span class="mi">784</span><span class="p">,</span> <span class="s2">&quot;GS5&quot;</span><span class="p">:</span> <span class="mi">831</span><span class="p">,</span> <span class="s2">&quot;A5&quot;</span><span class="p">:</span> <span class="mi">880</span><span class="p">,</span> <span class="s2">&quot;AS5&quot;</span><span class="p">:</span> <span class="mi">932</span><span class="p">,</span> <span class="s2">&quot;B5&quot;</span><span class="p">:</span> <span class="mi">988</span><span class="p">,</span> <span class="s2">&quot;C6&quot;</span><span class="p">:</span> <span class="mi">1047</span><span class="p">,</span> <span class="s2">&quot;CS6&quot;</span><span class="p">:</span> <span class="mi">1109</span><span class="p">,</span> <span class="s2">&quot;D6&quot;</span><span class="p">:</span> <span class="mi">1175</span><span class="p">,</span> <span class="s2">&quot;DS6&quot;</span><span class="p">:</span> <span class="mi">1245</span><span class="p">,</span> <span class="s2">&quot;E6&quot;</span><span class="p">:</span> <span class="mi">1319</span><span class="p">,</span> <span class="s2">&quot;F6&quot;</span><span class="p">:</span> <span class="mi">1397</span><span class="p">,</span> <span class="s2">&quot;FS6&quot;</span><span class="p">:</span> <span class="mi">1480</span><span class="p">,</span> <span class="s2">&quot;G6&quot;</span><span class="p">:</span> <span class="mi">1568</span><span class="p">,</span> <span class="s2">&quot;GS6&quot;</span><span class="p">:</span> <span class="mi">1661</span><span class="p">,</span>
    <span class="s2">&quot;A6&quot;</span><span class="p">:</span> <span class="mi">1760</span><span class="p">,</span> <span class="s2">&quot;AS6&quot;</span><span class="p">:</span> <span class="mi">1865</span><span class="p">,</span> <span class="s2">&quot;B6&quot;</span><span class="p">:</span> <span class="mi">1976</span><span class="p">,</span> <span class="s2">&quot;C7&quot;</span><span class="p">:</span> <span class="mi">2093</span><span class="p">,</span> <span class="s2">&quot;CS7&quot;</span><span class="p">:</span> <span class="mi">2217</span><span class="p">,</span> <span class="s2">&quot;D7&quot;</span><span class="p">:</span> <span class="mi">2349</span><span class="p">,</span> <span class="s2">&quot;DS7&quot;</span><span class="p">:</span> <span class="mi">2489</span><span class="p">,</span> <span class="s2">&quot;E7&quot;</span><span class="p">:</span> <span class="mi">2637</span><span class="p">,</span> <span class="s2">&quot;F7&quot;</span><span class="p">:</span> <span class="mi">2794</span><span class="p">,</span> <span class="s2">&quot;FS7&quot;</span><span class="p">:</span> <span class="mi">2960</span><span class="p">,</span> <span class="s2">&quot;G7&quot;</span><span class="p">:</span> <span class="mi">3136</span><span class="p">,</span> <span class="s2">&quot;GS7&quot;</span><span class="p">:</span> <span class="mi">3322</span><span class="p">,</span> <span class="s2">&quot;A7&quot;</span><span class="p">:</span> <span class="mi">3520</span><span class="p">,</span>
    <span class="s2">&quot;AS7&quot;</span><span class="p">:</span> <span class="mi">3729</span><span class="p">,</span> <span class="s2">&quot;B7&quot;</span><span class="p">:</span> <span class="mi">3951</span><span class="p">,</span> <span class="s2">&quot;C8&quot;</span><span class="p">:</span> <span class="mi">4186</span><span class="p">,</span> <span class="s2">&quot;CS8&quot;</span><span class="p">:</span> <span class="mi">4435</span><span class="p">,</span> <span class="s2">&quot;D8&quot;</span><span class="p">:</span> <span class="mi">4699</span><span class="p">,</span> <span class="s2">&quot;DS8&quot;</span><span class="p">:</span> <span class="mi">4978</span>
<span class="p">}</span>

<span class="n">mario</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;E7&quot;</span><span class="p">,</span> <span class="s2">&quot;E7&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;E7&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;C7&quot;</span><span class="p">,</span> <span class="s2">&quot;E7&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;G7&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;G6&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;C7&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;G6&quot;</span><span class="p">,</span>
         <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;E6&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;A6&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;B6&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;AS6&quot;</span><span class="p">,</span> <span class="s2">&quot;A6&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;G6&quot;</span><span class="p">,</span> <span class="s2">&quot;E7&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;G7&quot;</span><span class="p">,</span> <span class="s2">&quot;A7&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;F7&quot;</span><span class="p">,</span> <span class="s2">&quot;G7&quot;</span><span class="p">,</span>
         <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;E7&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;C7&quot;</span><span class="p">,</span> <span class="s2">&quot;D7&quot;</span><span class="p">,</span> <span class="s2">&quot;B6&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;C7&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;G6&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;E6&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;A6&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;B6&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span>
         <span class="s2">&quot;AS6&quot;</span><span class="p">,</span> <span class="s2">&quot;A6&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;G6&quot;</span><span class="p">,</span> <span class="s2">&quot;E7&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;G7&quot;</span><span class="p">,</span> <span class="s2">&quot;A7&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;F7&quot;</span><span class="p">,</span> <span class="s2">&quot;G7&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;E7&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;C7&quot;</span><span class="p">,</span> <span class="s2">&quot;D7&quot;</span><span class="p">,</span> <span class="s2">&quot;B6&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">play_tone</span><span class="p">(</span><span class="n">frequency</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mi">100</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Play a tone at the given frequency for the specified duration&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">frequency</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">speaker</span><span class="o">.</span><span class="n">freq</span><span class="p">(</span><span class="n">frequency</span><span class="p">)</span>  <span class="c1"># Set frequency</span>
        <span class="n">speaker</span><span class="o">.</span><span class="n">duty_u16</span><span class="p">(</span><span class="mi">32768</span><span class="p">)</span>  <span class="c1"># 50% duty cycle (32768 is half of 65535)</span>
        <span class="n">sleep_ms</span><span class="p">(</span><span class="n">duration</span><span class="p">)</span>
        <span class="n">speaker</span><span class="o">.</span><span class="n">duty_u16</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>     <span class="c1"># Turn off tone</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">sleep_ms</span><span class="p">(</span><span class="n">duration</span><span class="p">)</span>      <span class="c1"># Rest for the specified duration</span>

<span class="k">def</span> <span class="nf">play_mario</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Play the Mario theme song&quot;&quot;&quot;</span>
    <span class="c1"># Tempo control</span>
    <span class="n">tempo</span> <span class="o">=</span> <span class="mi">150</span>  <span class="c1"># Adjust this value to control speed (lower = faster)</span>

    <span class="c1"># Play each note</span>
    <span class="k">for</span> <span class="n">note</span> <span class="ow">in</span> <span class="n">mario</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">note</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="c1"># Rest</span>
            <span class="n">play_tone</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">tempo</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Play the note</span>
            <span class="n">play_tone</span><span class="p">(</span><span class="n">tones</span><span class="p">[</span><span class="n">note</span><span class="p">],</span> <span class="n">tempo</span><span class="p">)</span>

        <span class="c1"># Brief pause between notes to separate them</span>
        <span class="n">sleep_ms</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>

<span class="c1"># Main execution</span>
<span class="k">try</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Playing Mario theme...&quot;</span><span class="p">)</span>
    <span class="n">play_mario</span><span class="p">()</span>
    <span class="c1"># Clean up</span>
    <span class="n">speaker</span><span class="o">.</span><span class="n">deinit</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Done!&quot;</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
    <span class="c1"># Clean up if interrupted</span>
    <span class="n">speaker</span><span class="o">.</span><span class="n">deinit</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Stopped by user&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>







  
  



  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.copy", "navigation.expand", "navigation.path", "navigation.prune", "navigation.indexes", "toc.follow", "navigation.top", "navigation.footer"], "search": "../../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.83f73b43.min.js"></script>
      
        <script src="../../../js/extra.js"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>