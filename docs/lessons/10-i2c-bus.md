# The I2C Bus Standard

![](../img/i2c-pins-on-oled.png)

Most microcontrollers use the I2C bus as a standard
way to communicate with peripheral devices such as
sensors, real-time clocks and displays.  In this
section we cover how to connect your I2C devices
to the main microcontroller and test that the connections are working.

Note that I2C is a two-way bus.  Although in many of our display examples, there is only data moving from the microcontroller to the device.  When we study real-time clocks
we will see data going back and forth from the microcontroller to peripheral device.

## Connections

The I2C bus has four connections:


1. GND - Ground
2. VCC - Power - (usually 3.3 or 5 volts)
3. SDA - Data
4. SCL - Clock


#### Ground (GND)

The common reference point for electrical signals that completes the circuit and ensures stable voltage measurements. 

Connecting the display's GND pin to the microcontroller's GND pin provides a shared zero-voltage reference.

#### Power (VCC)

The voltage supply line that provides electrical power to operate the display, typically accepting either 3.3V or 5V depending on the model.

Connecting a 3.3V supply from the microcontroller to power a small OLED display.

#### Serial Data (SDA)

A bidirectional line that carries data bits between devices using a specific protocol for addressing and acknowledgment. 

In the example code above, we use GPIO pin 0 to transmit display content and receive status information.

#### Serial Clock (SCL)

A timing signal line generated by the master device that synchronizes data transfer and defines when the data line should be read or written.  In our work, the master device is the microcontroller which sends the clock signal to the display.

In the sample code, we use GPIO pin 1 to coordinate data transfers at rates typically between 100kHz and 400kHz.

Some important points about these connections:

1.  Both SDA and SCL require pull-up resistors (typically 4.7kÎ©)
2.  All devices share the same GND connection
3.  Multiple I2C devices can share the same SDA and SCL lines
4.  Power must match the display's voltage requirements (check datasheet)

## Sample I2C Initialization Code
```python
from machine import Pin, I2C
from ssd1306 import SSD1306_I2C

i2c = I2C(0, sda=Pin(0), scl=Pin(1))
display = SSD1306_I2C(128, 64, i2c)

# drawing code here
display.fill(0)
display.text("MicroPython", 0, 0)
display.text("Rocks!", 20, 20)
display.show()
```

Let's break down this I2C initialization code:

This code sets up a communication interface to control an OLED display using I2C (Inter-Integrated Circuit) protocol instead of SPI. Here's what each part does:

1. The imports:

```python
from machine import Pin, I2C            # Gets I2C and Pin control classes
from ssd1306 import SSD1306_I2C         # Gets the OLED display driver
```

2. The I2C bus initialization:

```python
i2c = I2C(0,                           # Use I2C bus 0 
          sda=Pin(0),                  # Data line on GPIO pin 0
          scl=Pin(1))                  # Clock line on GPIO pin 1
```

3. The display initialization:

```python
display = SSD1306_I2C(128,             # Display width in pixels
                      64,              # Display height in pixels 
                      i2c)             # I2C bus we created
```

Key differences from the SPI version:
- Uses only 2 pins instead of 5 (no CS, DC, or RES needed)
- Simpler initialization code
- Slightly slower than SPI but adequate for most uses
- Can share bus with other I2C devices using different addresses

Worth noting that I2C is often preferred for simple display projects because it requires fewer pins and simpler wiring, even though it's not as fast as SPI.

A common issue to watch for is making sure your I2C connections have appropriate pull-up resistors, though many development boards include these built-in.


## Testing Your Connections

The I2C Scanner

## Common I2C Addresses for Clock and Watches

### Real Time Clocks

We use two types of Real-Time clocks

### Real Time Clock EEPROM

### Displays

Our I2C OLED displays are often found at

## Connector Standards

